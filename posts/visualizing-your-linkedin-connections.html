<!DOCTYPE html><html><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-193041393-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-193041393-1', {
              page_path: window.location.pathname,
            });
          </script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"/><link rel="preload" href="/fonts/FiraCode-VariableFont_wght.ttf" as="font" crossorigin="anonymous"/><link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 100 100&#x27;&gt;&lt;text y=&#x27;.9em&#x27; font-size=&#x27;90&#x27;&gt;üëã&lt;/text&gt;&lt;/svg&gt;"/><meta name="description" content="Using Python&#x27;s Pandas, NetworkX, and pyvis to understand and visualize companies within a directly connected LinkedIn network."/><meta property="og:image" content="https://og-image.vercel.app/Visualizing%20your%20LinkedIn%20connections%20using%20Python.png?theme=light&amp;md=1&amp;fontSize=50px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fhyper-color-logo.svg&amp;widths=350&amp;heights=350"/><meta name="robots" content="follow, index"/><meta name="og:title" content="Visualizing your LinkedIn connections using Python"/><meta property="og:site_name" content="Visualizing your LinkedIn connections using Python"/><meta property="og:description" content="Using Python&#x27;s Pandas, NetworkX, and pyvis to understand and visualize companies within a directly connected LinkedIn network."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@bschoeneweis"/><meta name="twitter:title" content="Bradley Schoeneweis"/><meta name="twitter:description" content="Using Python&#x27;s Pandas, NetworkX, and pyvis to understand and visualize companies within a directly connected LinkedIn network."/><meta name="twitter:image" content="https://og-image.vercel.app/Visualizing%20your%20LinkedIn%20connections%20using%20Python.png?theme=light&amp;md=1&amp;fontSize=50px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fhyper-color-logo.svg&amp;widths=350&amp;heights=350"/><title>Visualizing your LinkedIn connections using Python</title><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/06dea8e0c799365a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/06dea8e0c799365a.css" data-n-g=""/><link rel="preload" href="/_next/static/css/7e8843d0866f64ab.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7e8843d0866f64ab.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-a67b258d2fb2b748.js" defer=""></script><script src="/_next/static/chunks/framework-7d488969745094b0.js" defer=""></script><script src="/_next/static/chunks/main-c3ed9a593ffd1a6c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d542c2ab22c8ff03.js" defer=""></script><script src="/_next/static/chunks/4824-86805e89d9bc00a3.js" defer=""></script><script src="/_next/static/chunks/494-a7f972c4001b17a3.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-5ce02025a16a43fb.js" defer=""></script><script src="/_next/static/0mqtFEn94cb11l0pvOTHF/_buildManifest.js" defer=""></script><script src="/_next/static/0mqtFEn94cb11l0pvOTHF/_ssgManifest.js" defer=""></script><script src="/_next/static/0mqtFEn94cb11l0pvOTHF/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="layout_ArticleContainer__QR4qB"><header><div class="layout_LayoutLinks__92rCe"><a href="/">‚Üê Back home</a></div></header><main><article><h1 class="utils_headingXl__u25Y2">Visualizing your LinkedIn connections using Python</h1><div class="tag_TagList__IWJKV tag_TagListPost__iMXoV"><div class="utils_displayFlex__VCtvW"><a href="/tags/python"><div><span class="tag_Badge__e6qwu utils_cursorPointer__oXutf">python</span></div></a></div><div class="utils_displayFlex__VCtvW"><a href="/tags/pandas"><div><span class="tag_Badge__e6qwu utils_cursorPointer__oXutf">pandas</span></div></a></div><div class="utils_displayFlex__VCtvW"><a href="/tags/networkx"><div><span class="tag_Badge__e6qwu utils_cursorPointer__oXutf">networkx</span></div></a></div><div class="utils_displayFlex__VCtvW"><a href="/tags/data-analysis"><div><span class="tag_Badge__e6qwu utils_cursorPointer__oXutf">data-analysis</span></div></a></div></div><div class="author_Author__QmrQi"><img loading="eager" src="/images/profile.jpg" height="40" width="40" alt="Bradley Schoeneweis" class="utils_borderCircle__s2nTm author_AuthorImage__6NLD6"/><div class="utils_lightText__eUzGY author_AuthorDate__HzPM6">Bradley Schoeneweis<span class="utils_dotSeparator__Ij4lk">‚Ä¢</span><time dateTime="2021-04-08">April 8, 2021</time></div></div><h2>tl;dr</h2>
<h3>Goal</h3>
<p><em>To understand and visualize the companies within my directly connected network on LinkedIn</em></p>
<h3>Process overview</h3>
<ol>
<li><strong>LinkedIn data sources</strong> - retrieving LinkedIn Network data from a &quot;Get a copy of your data&quot; CSV export</li>
<li><strong>Diving into the data</strong> - exploring, cleaning, and aggregating the data with <a href="https://pandas.pydata.org/" target="_blank"><code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">Pandas</code></a></li>
<li><strong>Creating the network</strong> - creating a network graph using <a href="https://networkx.org/" target="_blank"><code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">NetworkX</code></a></li>
<li><strong>Visualization</strong> - visualizing the network with <a href="https://pyvis.readthedocs.io/en/latest/" target="_blank"><code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">pyvis</code></a></li>
<li><strong>Improving the output</strong> - cleaning up the network graph with additional filtering</li>
</ol>
<h3>Results</h3>
<p><em>Hover over the nodes for more details</em></p>
<ul>
<li><a href="/network/first-nx-graph.html" target="_blank">The first network graph</a></li>
<li><a href="/network/second-nx-graph.html" target="_blank">The second (more specific) network graph</a></li>
</ul>
<h3>Python dependencies</h3>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px"># Python standard library
from difflib import get_close_matches

# 3rd party
import networkx as nx
import pandas as pd
from pyvis.network import Network</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<hr/>
<p>Recently, I was exploring <a href="https://www.linkedin.com/in/bradley-schoeneweis/" target="_blank">my LinkedIn</a> network to see what some of my colleagues from high school and undergrad are currently up to.</p>
<p>As I was scrolling through the connections page, I noticed LinkedIn gives you options to filter and searching with ease, but it doesn&#x27;t really provide tools to learn about your network as a whole.</p>
<p>So I decided to see if there was an easy way to export my network data to see what I could do with a few hours of exploring the data.</p>
<h2>LinkedIn data sources</h2>
<p>My first thought was to checkout out the <a href="https://www.linkedin.com/developers/" target="_blank">LinkedIn&#x27;s Developer API</a>.</p>
<p>Something I do fairly frequently at my current job is integrating various 3rd-party REST APIs into our platform, so I wanted to see all the functionality and possibilities that this API would provide.</p>
<p>After reading through some documentation, I decided this wasn&#x27;t a direction I wanted to pursue. Most of their developer products require approval, so I decided to look into other options.</p>
<p>Another thought I had was to write a quick scraping script to pull down the HTML of my connections page and parse out names and companies, but I assumed there had to be a more simple way to get this data.</p>
<p>Finally, after a bit of research, I found that there are various &quot;Get a copy of your data&quot; reports that you can run within LinkedIn.  In order to get to these reports, you can do the following:</p>
<ol>
<li>On the homepage toolbar, click the <strong>Me</strong> dropdown</li>
<li>Under the <em>Account</em> section, click <strong>Settings &amp; Privacy</strong></li>
<li>Click on <strong>Get a copy of your data</strong>, and you can view the various reports</li>
<li>Select the reports you&#x27;re interested in, for this, I just checked <strong>Connections</strong></li>
</ol>
<p>After requesting the report, it should only take a few minutes before you get an email saying your report is ready for export.</p>
<h2>Diving into the data</h2>
<p>To reiterate our goal, we want to get a broad understanding of the companies within the first layer of our network (direct connections). Now, let&#x27;s load up Python and learn more about this data in this CSV.</p>
<h3>Reading in the data</h3>
<p>Once the CSV is downloaded, we can open it up with Pandas and take a look (<em>output will be commented below</em>).</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">import pandas as pd

# We want to skip the first three rows because of Notes at the top
df = pd.read_csv(&#x27;Connections.csv&#x27;, skiprows=3)

df.columns
# [&#x27;First Name&#x27;, &#x27;Last Name&#x27;, &#x27;Email Address&#x27;, &#x27;Company&#x27;, &#x27;Position&#x27;, &#x27;Connected On&#x27;,]

df.info()
&quot;&quot;&quot;
&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;
RangeIndex: 376 entries, 0 to 375
Data columns (total 6 columns):
 #   Column         Non-Null Count  Dtype 
---  ------         --------------  ----- 
 0   First Name     375 non-null    object
 1   Last Name      375 non-null    object
 2   Email Address  1 non-null      object
 3   Company        371 non-null    object
 4   Position       371 non-null    object
 5   Connected On   376 non-null    object
dtypes: object(6)
memory usage: 17.8+ KB
&quot;&quot;&quot;</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>I won&#x27;t post the name&#x27;s of any individuals or full rows to respect the privacy of my connections, but when I searched through the my Connections CSV, I noticed a few initial patterns that would help clean up the data.</p>
<h3>Cleaning up the data</h3>
<p>At first glance, the first thing I notice is connections who don&#x27;t list a current company, so let&#x27;s get rid of those.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">df = df[df[&#x27;Company&#x27;].notna()].sort_values(by=&#x27;Company&#x27;)</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>After sorting, another thing I noticed was that some of these company names belong to the same company, but the individuals wrote them differently.</p>
<p>An example of this is <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">&#x27;IBM Global Solution Center&#x27;</code> and <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">&#x27;IBM&#x27;</code>; for our purposes, these should both be classified as <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">IBM</code>.</p>
<p>Let&#x27;s run through a fuzzy match run using <a href="https://docs.python.org/3/library/difflib.html#difflib.get_close_matches" target="_blank">difflib&#x27;s <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">get_close_matches</code></a> to try and bucket some of these similar company names.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">from difflib import get_close_matches

companies = df[&#x27;Company&#x27;].drop_duplicates()

# cutoff=0.7 is a similarity ranking, and n=10 just takes the top 10 values
similar_companies = {x: get_close_matches(x, companies, n=10, cutoff=0.7)
                     for x in companies}

# We are only interested in the entries that had another match
similar_companies = {x: [name for name in y if name != x]
                     for x, y in similar_companies.items() if len(y) &gt; 1}</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>Now, this solution is not perfect, but it will help draw out some similar companies. You should still run a manual inspection of the data (the IBM example I gave above is one that doesn&#x27;t show up in the fuzzy match results).</p>
<p>Based upon the results, let&#x27;s group together some of the companies that had matches.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">df[&#x27;Company&#x27;] = df[&#x27;Company&#x27;].replace({
    &#x27;KPMG US&#x27;: similar_companies[&#x27;KPMG US&#x27;],
    &#x27;Self-employed&#x27;: similar_companies[&#x27;Self-employed&#x27;],
    &#x27;IBM Global Solution Center&#x27;: &#x27;IBM&#x27;,
})</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>The next thing you may have noticed is that in our <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">similar_companies</code> dictionary, we cleaned up a <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">Self-employed</code> entry.</p>
<p>To stay aligned with our goal, let&#x27;s drop these entries, as well as your current company.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">companies_to_drop = [&#x27;self employed&#x27;, &#x27;your current company&#x27;]
df = df[~df[&#x27;Company&#x27;].str.lower().isin(companies_to_drop)]</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<h3>Aggregating the data</h3>
<p>Now that our data is cleaned up a bit, let&#x27;s aggregate and sum the number of connections for each of the companies.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">df_company_counts = df[&#x27;Company&#x27;].value_counts().reset_index()
df_company_counts.columns = [&#x27;Company&#x27;, &#x27;Count&#x27;]  # For ease of understanding
df_company_counts = df_company_counts.sort_values(by=&#x27;Count&#x27;, ascending=False)</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<h2>Creating the network</h2>
<p>We have the numbers we want for each company, now let&#x27;s jump into using <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">NetworkX</code> to recreate a network.</p>
<p>The first step will be to initialize our graph, and add yourself as the central node, as it is your network.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">import networkx as nx

G = nx.Graph()
G.add_node(&#x27;Me&#x27;)</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>Then, we&#x27;ll loop through our <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">df_company_counts</code> DataFrame and add each company as a node.</p>
<p><em>You&#x27;ll notice some HTML tags in the title below, this is just to make it more readable for later</em></p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">for _, row in df_company_counts.iterrows():
	# The title will be for more information later on
    title = &#x27;&lt;b&gt;{0}&lt;/b&gt; ({1})&lt;br&gt;&lt;hr&gt;Positions:&lt;br&gt;&#x27;.format(row[&#x27;Company&#x27;],
    														row[&#x27;Count&#x27;])

    # In addition to the full company name, let&#x27;s add each position in a
    # list to see the roles our connections have at these companies
    position_list = &#x27;&#x27;.join(&#x27;&lt;li&gt;{}&lt;/li&gt;&#x27;.format(x)
    						for x in df[df[&#x27;Company&#x27;] == row[&#x27;Company&#x27;]][&#x27;Position&#x27;])
    title += &#x27;&lt;ul&gt;{0}&lt;/ul&gt;&#x27;.format(position_list)

    # For ease of viewing, limit company names to 15 letters
    node_name = row[&#x27;Company&#x27;]
    if len(node_name) &gt; 15:
        node_name = node_name[:15] + &#x27;...&#x27;

    # Add the node and an edge connection ourself to the new node
    G.add_node(node_name, weight=row[&#x27;Count&#x27;], size=row[&#x27;Count&#x27;] * 2, title=title)
    G.add_edge(&#x27;Me&#x27;, node_name)</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>And just like that, we&#x27;ve created our network of connections.</p>
<h2>Visualization</h2>
<p>Our network graph is created, so let&#x27;s get into visualizing the network.</p>
<p>There are a few options for visualizing networks including <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">matplotlib.pyplot</code>, but I found that <code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">pyvis</code> was the easiest to use for several reasons:</p>
<ul>
<li><code style="font-family:Fira Code;border:none;font-variant-ligatures:none;background-color:rgb(246, 249, 252);padding:3px;border-radius:3px">pyvis</code> generates an HTML file</li>
<li>Customization is made very easy</li>
<li>The graph is interactive by default</li>
</ul>
<p>Let&#x27;s look into generating this HTML file.</p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px">from pyvis.network import Network

nt = Network(&#x27;100%&#x27;, &#x27;100%&#x27;, bgcolor=&#x27;#222222&#x27;, font_color=&#x27;white&#x27;)
nt.from_nx(G)
nt.repulsion()  # Spaces out the nodes
nt.show(&#x27;nx.html&#x27;)</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>And it&#x27;s that simple! We specify a width and height, optional styling attributes, and then we can generate the network graph visual straight from what we created with NetworkX.</p>
<p>Now we can see <a href="/network/first-nx-graph.html" target="_blank">the network we generated</a>.</p>
<p>You can hover over each node to see the total number of connections that work at the respective company, and below is a list of the positions held by your connections.</p>
<p>As you can see, this is a bit hard to read into since there are a lot of nodes. Try and imagine reading this with +1,000 connections.</p>
<h2>Improving the output</h2>
<p>There are a few ways that our network could be narrowed down.</p>
<p>Being a <em>Software Developer</em>, the thought that first occurred to me was to try and dial in on tech-related companies through known positions titles.</p>
<p>To do this, I thought of a list of buzzwords/common job titles that I&#x27;ve seen across LinkedIn, and filtered down the initial DataFrame.</p>
<p>Then, we go through the same process we did in previous sections of generating and displaying the graph.</p>
<p><em>Again, this is not perfect, but it&#x27;s a good starting point.</em></p>
<pre><div class="codeblock_CodeBlock__P_tQD"><div class="sc-gsDKAQ bnYxmP"><span style="font-size:inherit;font-family:inherit;background:#282c34;color:#abb2bf;border-radius:3px;display:flex;line-height:1.4285714285714286;overflow-x:auto;white-space:pre"><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span></code><code style="font-size:inherit;font-family:inherit;line-height:1.6666666666666667;padding:8px"># Filter down from a list of popular tech positions
positions = [
    &#x27;developer&#x27;, &#x27;engineer&#x27;, &#x27;ai&#x27;, &#x27;analytics&#x27;, &#x27;software&#x27;, &#x27;cloud&#x27;, &#x27;cto&#x27;,
    &#x27;sde&#x27;, &#x27;sre&#x27;, &#x27;saas&#x27;, &#x27;product&#x27;, &#x27;engineering&#x27;, &#x27;scientist&#x27;, &#x27;data&#x27;,
]
df = df[df[&#x27;Position&#x27;].str.contains(&#x27;|&#x27;.join(positions), case=False)]
df_company_counts = df[&#x27;Company&#x27;].value_counts().reset_index()
df_company_counts.columns = [&#x27;Company&#x27;, &#x27;Count&#x27;]
df_company_counts = df_company_counts.sort_values(by=&#x27;Count&#x27;, ascending=False)

# Re-initialize the graph and add the nodes/edges again
G = nx.Graph()
G.add_node(&#x27;Me&#x27;)

for _, row in df_company_counts.iterrows():
    title = &#x27;&lt;b&gt;{0}&lt;/b&gt; ({1})&lt;br&gt;&lt;hr&gt;Positions:&lt;br&gt;&#x27;.format(row[&#x27;Company&#x27;], row[&#x27;Count&#x27;])
    position_list = &#x27;&#x27;.join(&#x27;&lt;li&gt;{}&lt;/li&gt;&#x27;.format(x)
    						for x in df[df[&#x27;Company&#x27;] == row[&#x27;Company&#x27;]][&#x27;Position&#x27;])
    title += &#x27;&lt;ul&gt;{0}&lt;/ul&gt;&#x27;.format(position_list)
    node_name = row[&#x27;Company&#x27;]
    if len(node_name) &gt; 15:
        node_name = node_name[:15] + &#x27;...&#x27;

    # Since there are less nodes, let&#x27;s increase the sizes
    G.add_node(node_name, weight=row[&#x27;Count&#x27;], size=row[&#x27;Count&#x27;] * 5, title=title)
    G.add_edge(&#x27;Me&#x27;, node_name)

# Generate the visualization
nt = Network(&#x27;100%&#x27;, &#x27;100%&#x27;, bgcolor=&#x27;#222222&#x27;, font_color=&#x27;white&#x27;)
nt.from_nx(G)
nt.repulsion()
nt.show(&#x27;nx.html&#x27;)</code></span><button type="button" class="sc-bdvvtL dHMcRP"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="#abb2bf"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div></pre>
<p>Now, let&#x27;s look at the <a href="/network/second-nx-graph.html" target="_blank">updated results</a>.</p>
<p>Much better! This is more readable and easier to interact with.</p>
<p>And just like that, we achieved our goal of gaining a broader understanding of the companies in our LinkedIn network.</p>
<hr/>
<p><strong><em>Possible improvements for those interested</em></strong></p>
<ul>
<li>Scraping the profile location of each of your connections to segment by location</li>
<li>Compiling a list of companies you&#x27;d like to work for/are interested in and creating a filtering system</li>
<li>Researching salary data for positions and gathering average pay by company</li>
</ul>
<hr/></article></main></div><footer class="footer_FooterContainer__oKXDJ"><div class="footer_Footer__wsKMY"><div class="footer_LeftFooterWrapper__ml0HU"><span class="footer_SocialLinkWrapper__0F2i_"><a href="https://www.linkedin.com/in/bradley-schoeneweis/" target="_blank" rel="noreferrer"><img width="16" src="/icons/linkedin.svg" alt="linkedin logo" class="footer_SocialLinkLogo__OWB_i"/></a><a href="https://github.com/bschoeneweis" target="_blank" rel="noreferrer"><img width="16" src="/icons/github.svg" alt="github logo" class="footer_SocialLinkLogo__OWB_i"/></a><a href="https://medium.com/@bradley-schoeneweis" target="_blank" rel="noreferrer"><img width="16" src="/icons/medium.svg" alt="medium logo" class="footer_SocialLinkLogo__OWB_i"/></a><a href="https://dev.to/bschoeneweis" target="_blank" rel="noreferrer"><img width="16" src="/icons/dev.svg" alt="dev logo" class="footer_SocialLinkLogo__OWB_i"/></a><a href="/feed.xml"><img width="16" src="/icons/rss.svg" alt="rss logo" class="footer_SocialLinkLogo__OWB_i"/></a></span></div><div class="footer_SiteLinks__nUPbv"><a href="/books">üìö</a><a href="/tools">üõ†</a></div></div><div class="footer_CopyrightWrapper__NZEPb"><small>¬© <time>2022</time> Bradley Schoeneweis</small></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"visualizing-your-linkedin-connections","contentHtml":"\u003ch2\u003etl;dr\u003c/h2\u003e\n\u003ch3\u003eGoal\u003c/h3\u003e\n\u003cp\u003e\u003cem\u003eTo understand and visualize the companies within my directly connected network on LinkedIn\u003c/em\u003e\u003c/p\u003e\n\u003ch3\u003eProcess overview\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eLinkedIn data sources\u003c/strong\u003e - retrieving LinkedIn Network data from a \"Get a copy of your data\" CSV export\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDiving into the data\u003c/strong\u003e - exploring, cleaning, and aggregating the data with \u003ca href=\"https://pandas.pydata.org/\"\u003e\u003ccode\u003ePandas\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCreating the network\u003c/strong\u003e - creating a network graph using \u003ca href=\"https://networkx.org/\"\u003e\u003ccode\u003eNetworkX\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eVisualization\u003c/strong\u003e - visualizing the network with \u003ca href=\"https://pyvis.readthedocs.io/en/latest/\"\u003e\u003ccode\u003epyvis\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImproving the output\u003c/strong\u003e - cleaning up the network graph with additional filtering\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eResults\u003c/h3\u003e\n\u003cp\u003e\u003cem\u003eHover over the nodes for more details\u003c/em\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/network/first-nx-graph.html\"\u003eThe first network graph\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/network/second-nx-graph.html\"\u003eThe second (more specific) network graph\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePython dependencies\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e# Python standard library\nfrom difflib import get_close_matches\n\n# 3rd party\nimport networkx as nx\nimport pandas as pd\nfrom pyvis.network import Network\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003cp\u003eRecently, I was exploring \u003ca href=\"https://www.linkedin.com/in/bradley-schoeneweis/\"\u003emy LinkedIn\u003c/a\u003e network to see what some of my colleagues from high school and undergrad are currently up to.\u003c/p\u003e\n\u003cp\u003eAs I was scrolling through the connections page, I noticed LinkedIn gives you options to filter and searching with ease, but it doesn't really provide tools to learn about your network as a whole.\u003c/p\u003e\n\u003cp\u003eSo I decided to see if there was an easy way to export my network data to see what I could do with a few hours of exploring the data.\u003c/p\u003e\n\u003ch2\u003eLinkedIn data sources\u003c/h2\u003e\n\u003cp\u003eMy first thought was to checkout out the \u003ca href=\"https://www.linkedin.com/developers/\"\u003eLinkedIn's Developer API\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eSomething I do fairly frequently at my current job is integrating various 3rd-party REST APIs into our platform, so I wanted to see all the functionality and possibilities that this API would provide.\u003c/p\u003e\n\u003cp\u003eAfter reading through some documentation, I decided this wasn't a direction I wanted to pursue. Most of their developer products require approval, so I decided to look into other options.\u003c/p\u003e\n\u003cp\u003eAnother thought I had was to write a quick scraping script to pull down the HTML of my connections page and parse out names and companies, but I assumed there had to be a more simple way to get this data.\u003c/p\u003e\n\u003cp\u003eFinally, after a bit of research, I found that there are various \"Get a copy of your data\" reports that you can run within LinkedIn.  In order to get to these reports, you can do the following:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eOn the homepage toolbar, click the \u003cstrong\u003eMe\u003c/strong\u003e dropdown\u003c/li\u003e\n\u003cli\u003eUnder the \u003cem\u003eAccount\u003c/em\u003e section, click \u003cstrong\u003eSettings \u0026#x26; Privacy\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eClick on \u003cstrong\u003eGet a copy of your data\u003c/strong\u003e, and you can view the various reports\u003c/li\u003e\n\u003cli\u003eSelect the reports you're interested in, for this, I just checked \u003cstrong\u003eConnections\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAfter requesting the report, it should only take a few minutes before you get an email saying your report is ready for export.\u003c/p\u003e\n\u003ch2\u003eDiving into the data\u003c/h2\u003e\n\u003cp\u003eTo reiterate our goal, we want to get a broad understanding of the companies within the first layer of our network (direct connections). Now, let's load up Python and learn more about this data in this CSV.\u003c/p\u003e\n\u003ch3\u003eReading in the data\u003c/h3\u003e\n\u003cp\u003eOnce the CSV is downloaded, we can open it up with Pandas and take a look (\u003cem\u003eoutput will be commented below\u003c/em\u003e).\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport pandas as pd\n\n# We want to skip the first three rows because of Notes at the top\ndf = pd.read_csv('Connections.csv', skiprows=3)\n\ndf.columns\n# ['First Name', 'Last Name', 'Email Address', 'Company', 'Position', 'Connected On',]\n\ndf.info()\n\"\"\"\n\u0026#x3C;class 'pandas.core.frame.DataFrame'\u003e\nRangeIndex: 376 entries, 0 to 375\nData columns (total 6 columns):\n #   Column         Non-Null Count  Dtype \n---  ------         --------------  ----- \n 0   First Name     375 non-null    object\n 1   Last Name      375 non-null    object\n 2   Email Address  1 non-null      object\n 3   Company        371 non-null    object\n 4   Position       371 non-null    object\n 5   Connected On   376 non-null    object\ndtypes: object(6)\nmemory usage: 17.8+ KB\n\"\"\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI won't post the name's of any individuals or full rows to respect the privacy of my connections, but when I searched through the my Connections CSV, I noticed a few initial patterns that would help clean up the data.\u003c/p\u003e\n\u003ch3\u003eCleaning up the data\u003c/h3\u003e\n\u003cp\u003eAt first glance, the first thing I notice is connections who don't list a current company, so let's get rid of those.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edf = df[df['Company'].notna()].sort_values(by='Company')\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter sorting, another thing I noticed was that some of these company names belong to the same company, but the individuals wrote them differently.\u003c/p\u003e\n\u003cp\u003eAn example of this is \u003ccode\u003e'IBM Global Solution Center'\u003c/code\u003e and \u003ccode\u003e'IBM'\u003c/code\u003e; for our purposes, these should both be classified as \u003ccode\u003eIBM\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eLet's run through a fuzzy match run using \u003ca href=\"https://docs.python.org/3/library/difflib.html#difflib.get_close_matches\"\u003edifflib's \u003ccode\u003eget_close_matches\u003c/code\u003e\u003c/a\u003e to try and bucket some of these similar company names.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efrom difflib import get_close_matches\n\ncompanies = df['Company'].drop_duplicates()\n\n# cutoff=0.7 is a similarity ranking, and n=10 just takes the top 10 values\nsimilar_companies = {x: get_close_matches(x, companies, n=10, cutoff=0.7)\n                     for x in companies}\n\n# We are only interested in the entries that had another match\nsimilar_companies = {x: [name for name in y if name != x]\n                     for x, y in similar_companies.items() if len(y) \u003e 1}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, this solution is not perfect, but it will help draw out some similar companies. You should still run a manual inspection of the data (the IBM example I gave above is one that doesn't show up in the fuzzy match results).\u003c/p\u003e\n\u003cp\u003eBased upon the results, let's group together some of the companies that had matches.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edf['Company'] = df['Company'].replace({\n    'KPMG US': similar_companies['KPMG US'],\n    'Self-employed': similar_companies['Self-employed'],\n    'IBM Global Solution Center': 'IBM',\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe next thing you may have noticed is that in our \u003ccode\u003esimilar_companies\u003c/code\u003e dictionary, we cleaned up a \u003ccode\u003eSelf-employed\u003c/code\u003e entry.\u003c/p\u003e\n\u003cp\u003eTo stay aligned with our goal, let's drop these entries, as well as your current company.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecompanies_to_drop = ['self employed', 'your current company']\ndf = df[~df['Company'].str.lower().isin(companies_to_drop)]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eAggregating the data\u003c/h3\u003e\n\u003cp\u003eNow that our data is cleaned up a bit, let's aggregate and sum the number of connections for each of the companies.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edf_company_counts = df['Company'].value_counts().reset_index()\ndf_company_counts.columns = ['Company', 'Count']  # For ease of understanding\ndf_company_counts = df_company_counts.sort_values(by='Count', ascending=False)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eCreating the network\u003c/h2\u003e\n\u003cp\u003eWe have the numbers we want for each company, now let's jump into using \u003ccode\u003eNetworkX\u003c/code\u003e to recreate a network.\u003c/p\u003e\n\u003cp\u003eThe first step will be to initialize our graph, and add yourself as the central node, as it is your network.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport networkx as nx\n\nG = nx.Graph()\nG.add_node('Me')\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, we'll loop through our \u003ccode\u003edf_company_counts\u003c/code\u003e DataFrame and add each company as a node.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eYou'll notice some HTML tags in the title below, this is just to make it more readable for later\u003c/em\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efor _, row in df_company_counts.iterrows():\n\t# The title will be for more information later on\n    title = '\u0026#x3C;b\u003e{0}\u0026#x3C;/b\u003e ({1})\u0026#x3C;br\u003e\u0026#x3C;hr\u003ePositions:\u0026#x3C;br\u003e'.format(row['Company'],\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\trow['Count'])\n\n    # In addition to the full company name, let's add each position in a\n    # list to see the roles our connections have at these companies\n    position_list = ''.join('\u0026#x3C;li\u003e{}\u0026#x3C;/li\u003e'.format(x)\n    \t\t\t\t\t\tfor x in df[df['Company'] == row['Company']]['Position'])\n    title += '\u0026#x3C;ul\u003e{0}\u0026#x3C;/ul\u003e'.format(position_list)\n\n    # For ease of viewing, limit company names to 15 letters\n    node_name = row['Company']\n    if len(node_name) \u003e 15:\n        node_name = node_name[:15] + '...'\n\n    # Add the node and an edge connection ourself to the new node\n    G.add_node(node_name, weight=row['Count'], size=row['Count'] * 2, title=title)\n    G.add_edge('Me', node_name)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd just like that, we've created our network of connections.\u003c/p\u003e\n\u003ch2\u003eVisualization\u003c/h2\u003e\n\u003cp\u003eOur network graph is created, so let's get into visualizing the network.\u003c/p\u003e\n\u003cp\u003eThere are a few options for visualizing networks including \u003ccode\u003ematplotlib.pyplot\u003c/code\u003e, but I found that \u003ccode\u003epyvis\u003c/code\u003e was the easiest to use for several reasons:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003epyvis\u003c/code\u003e generates an HTML file\u003c/li\u003e\n\u003cli\u003eCustomization is made very easy\u003c/li\u003e\n\u003cli\u003eThe graph is interactive by default\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLet's look into generating this HTML file.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efrom pyvis.network import Network\n\nnt = Network('100%', '100%', bgcolor='#222222', font_color='white')\nnt.from_nx(G)\nnt.repulsion()  # Spaces out the nodes\nnt.show('nx.html')\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd it's that simple! We specify a width and height, optional styling attributes, and then we can generate the network graph visual straight from what we created with NetworkX.\u003c/p\u003e\n\u003cp\u003eNow we can see \u003ca href=\"/network/first-nx-graph.html\"\u003ethe network we generated\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eYou can hover over each node to see the total number of connections that work at the respective company, and below is a list of the positions held by your connections.\u003c/p\u003e\n\u003cp\u003eAs you can see, this is a bit hard to read into since there are a lot of nodes. Try and imagine reading this with +1,000 connections.\u003c/p\u003e\n\u003ch2\u003eImproving the output\u003c/h2\u003e\n\u003cp\u003eThere are a few ways that our network could be narrowed down.\u003c/p\u003e\n\u003cp\u003eBeing a \u003cem\u003eSoftware Developer\u003c/em\u003e, the thought that first occurred to me was to try and dial in on tech-related companies through known positions titles.\u003c/p\u003e\n\u003cp\u003eTo do this, I thought of a list of buzzwords/common job titles that I've seen across LinkedIn, and filtered down the initial DataFrame.\u003c/p\u003e\n\u003cp\u003eThen, we go through the same process we did in previous sections of generating and displaying the graph.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eAgain, this is not perfect, but it's a good starting point.\u003c/em\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# Filter down from a list of popular tech positions\npositions = [\n    'developer', 'engineer', 'ai', 'analytics', 'software', 'cloud', 'cto',\n    'sde', 'sre', 'saas', 'product', 'engineering', 'scientist', 'data',\n]\ndf = df[df['Position'].str.contains('|'.join(positions), case=False)]\ndf_company_counts = df['Company'].value_counts().reset_index()\ndf_company_counts.columns = ['Company', 'Count']\ndf_company_counts = df_company_counts.sort_values(by='Count', ascending=False)\n\n# Re-initialize the graph and add the nodes/edges again\nG = nx.Graph()\nG.add_node('Me')\n\nfor _, row in df_company_counts.iterrows():\n    title = '\u0026#x3C;b\u003e{0}\u0026#x3C;/b\u003e ({1})\u0026#x3C;br\u003e\u0026#x3C;hr\u003ePositions:\u0026#x3C;br\u003e'.format(row['Company'], row['Count'])\n    position_list = ''.join('\u0026#x3C;li\u003e{}\u0026#x3C;/li\u003e'.format(x)\n    \t\t\t\t\t\tfor x in df[df['Company'] == row['Company']]['Position'])\n    title += '\u0026#x3C;ul\u003e{0}\u0026#x3C;/ul\u003e'.format(position_list)\n    node_name = row['Company']\n    if len(node_name) \u003e 15:\n        node_name = node_name[:15] + '...'\n\n    # Since there are less nodes, let's increase the sizes\n    G.add_node(node_name, weight=row['Count'], size=row['Count'] * 5, title=title)\n    G.add_edge('Me', node_name)\n\n# Generate the visualization\nnt = Network('100%', '100%', bgcolor='#222222', font_color='white')\nnt.from_nx(G)\nnt.repulsion()\nnt.show('nx.html')\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, let's look at the \u003ca href=\"/network/second-nx-graph.html\"\u003eupdated results\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eMuch better! This is more readable and easier to interact with.\u003c/p\u003e\n\u003cp\u003eAnd just like that, we achieved our goal of gaining a broader understanding of the companies in our LinkedIn network.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003e\u003cem\u003ePossible improvements for those interested\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eScraping the profile location of each of your connections to segment by location\u003c/li\u003e\n\u003cli\u003eCompiling a list of companies you'd like to work for/are interested in and creating a filtering system\u003c/li\u003e\n\u003cli\u003eResearching salary data for positions and gathering average pay by company\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n","markdown":"\n## tl;dr\n\n### Goal\n_To understand and visualize the companies within my directly connected network on LinkedIn_\n\n### Process overview\n1. **LinkedIn data sources** - retrieving LinkedIn Network data from a \"Get a copy of your data\" CSV export\n2. **Diving into the data** - exploring, cleaning, and aggregating the data with [`Pandas`](https://pandas.pydata.org/)\n3. **Creating the network** - creating a network graph using [`NetworkX`](https://networkx.org/)\n4. **Visualization** - visualizing the network with [`pyvis`](https://pyvis.readthedocs.io/en/latest/)\n5. **Improving the output** - cleaning up the network graph with additional filtering\n\n### Results\n_Hover over the nodes for more details_\n- [The first network graph](/network/first-nx-graph.html)\n- [The second (more specific) network graph](/network/second-nx-graph.html)\n\n### Python dependencies\n```python\n# Python standard library\nfrom difflib import get_close_matches\n\n# 3rd party\nimport networkx as nx\nimport pandas as pd\nfrom pyvis.network import Network\n```\n\n---\n\nRecently, I was exploring [my LinkedIn](https://www.linkedin.com/in/bradley-schoeneweis/) network to see what some of my colleagues from high school and undergrad are currently up to.\n\nAs I was scrolling through the connections page, I noticed LinkedIn gives you options to filter and searching with ease, but it doesn't really provide tools to learn about your network as a whole.\n\nSo I decided to see if there was an easy way to export my network data to see what I could do with a few hours of exploring the data.\n\n\n## LinkedIn data sources\n\nMy first thought was to checkout out the [LinkedIn's Developer API](https://www.linkedin.com/developers/).\n\nSomething I do fairly frequently at my current job is integrating various 3rd-party REST APIs into our platform, so I wanted to see all the functionality and possibilities that this API would provide.\n\nAfter reading through some documentation, I decided this wasn't a direction I wanted to pursue. Most of their developer products require approval, so I decided to look into other options.\n\nAnother thought I had was to write a quick scraping script to pull down the HTML of my connections page and parse out names and companies, but I assumed there had to be a more simple way to get this data.\n\nFinally, after a bit of research, I found that there are various \"Get a copy of your data\" reports that you can run within LinkedIn.  In order to get to these reports, you can do the following:\n1. On the homepage toolbar, click the **Me** dropdown\n2. Under the _Account_ section, click **Settings \u0026 Privacy**\n3. Click on **Get a copy of your data**, and you can view the various reports\n4. Select the reports you're interested in, for this, I just checked **Connections**\n\nAfter requesting the report, it should only take a few minutes before you get an email saying your report is ready for export.\n\n\n## Diving into the data\n\nTo reiterate our goal, we want to get a broad understanding of the companies within the first layer of our network (direct connections). Now, let's load up Python and learn more about this data in this CSV.\n\n### Reading in the data\nOnce the CSV is downloaded, we can open it up with Pandas and take a look (_output will be commented below_).\n\n```python\nimport pandas as pd\n\n# We want to skip the first three rows because of Notes at the top\ndf = pd.read_csv('Connections.csv', skiprows=3)\n\ndf.columns\n# ['First Name', 'Last Name', 'Email Address', 'Company', 'Position', 'Connected On',]\n\ndf.info()\n\"\"\"\n\u003cclass 'pandas.core.frame.DataFrame'\u003e\nRangeIndex: 376 entries, 0 to 375\nData columns (total 6 columns):\n #   Column         Non-Null Count  Dtype \n---  ------         --------------  ----- \n 0   First Name     375 non-null    object\n 1   Last Name      375 non-null    object\n 2   Email Address  1 non-null      object\n 3   Company        371 non-null    object\n 4   Position       371 non-null    object\n 5   Connected On   376 non-null    object\ndtypes: object(6)\nmemory usage: 17.8+ KB\n\"\"\"\n```\n\nI won't post the name's of any individuals or full rows to respect the privacy of my connections, but when I searched through the my Connections CSV, I noticed a few initial patterns that would help clean up the data.\n\n### Cleaning up the data\n\nAt first glance, the first thing I notice is connections who don't list a current company, so let's get rid of those.\n\n```python\ndf = df[df['Company'].notna()].sort_values(by='Company')\n```\n\nAfter sorting, another thing I noticed was that some of these company names belong to the same company, but the individuals wrote them differently.\n\nAn example of this is `'IBM Global Solution Center'` and `'IBM'`; for our purposes, these should both be classified as `IBM`.\n\nLet's run through a fuzzy match run using [difflib's `get_close_matches`](https://docs.python.org/3/library/difflib.html#difflib.get_close_matches) to try and bucket some of these similar company names.\n```python\nfrom difflib import get_close_matches\n\ncompanies = df['Company'].drop_duplicates()\n\n# cutoff=0.7 is a similarity ranking, and n=10 just takes the top 10 values\nsimilar_companies = {x: get_close_matches(x, companies, n=10, cutoff=0.7)\n                     for x in companies}\n\n# We are only interested in the entries that had another match\nsimilar_companies = {x: [name for name in y if name != x]\n                     for x, y in similar_companies.items() if len(y) \u003e 1}\n```\n\nNow, this solution is not perfect, but it will help draw out some similar companies. You should still run a manual inspection of the data (the IBM example I gave above is one that doesn't show up in the fuzzy match results).\n\nBased upon the results, let's group together some of the companies that had matches.\n```python\ndf['Company'] = df['Company'].replace({\n    'KPMG US': similar_companies['KPMG US'],\n    'Self-employed': similar_companies['Self-employed'],\n    'IBM Global Solution Center': 'IBM',\n})\n```\n\nThe next thing you may have noticed is that in our `similar_companies` dictionary, we cleaned up a `Self-employed` entry.\n\nTo stay aligned with our goal, let's drop these entries, as well as your current company.\n```python\ncompanies_to_drop = ['self employed', 'your current company']\ndf = df[~df['Company'].str.lower().isin(companies_to_drop)]\n```\n\n### Aggregating the data\nNow that our data is cleaned up a bit, let's aggregate and sum the number of connections for each of the companies.\n\n```python\ndf_company_counts = df['Company'].value_counts().reset_index()\ndf_company_counts.columns = ['Company', 'Count']  # For ease of understanding\ndf_company_counts = df_company_counts.sort_values(by='Count', ascending=False)\n```\n\n## Creating the network\n\nWe have the numbers we want for each company, now let's jump into using `NetworkX` to recreate a network.\n\nThe first step will be to initialize our graph, and add yourself as the central node, as it is your network.\n\n```python\nimport networkx as nx\n\nG = nx.Graph()\nG.add_node('Me')\n```\n\nThen, we'll loop through our `df_company_counts` DataFrame and add each company as a node.\n\n_You'll notice some HTML tags in the title below, this is just to make it more readable for later_\n```python\nfor _, row in df_company_counts.iterrows():\n\t# The title will be for more information later on\n    title = '\u003cb\u003e{0}\u003c/b\u003e ({1})\u003cbr\u003e\u003chr\u003ePositions:\u003cbr\u003e'.format(row['Company'],\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\trow['Count'])\n\n    # In addition to the full company name, let's add each position in a\n    # list to see the roles our connections have at these companies\n    position_list = ''.join('\u003cli\u003e{}\u003c/li\u003e'.format(x)\n    \t\t\t\t\t\tfor x in df[df['Company'] == row['Company']]['Position'])\n    title += '\u003cul\u003e{0}\u003c/ul\u003e'.format(position_list)\n\n    # For ease of viewing, limit company names to 15 letters\n    node_name = row['Company']\n    if len(node_name) \u003e 15:\n        node_name = node_name[:15] + '...'\n\n    # Add the node and an edge connection ourself to the new node\n    G.add_node(node_name, weight=row['Count'], size=row['Count'] * 2, title=title)\n    G.add_edge('Me', node_name)\n```\n\nAnd just like that, we've created our network of connections.\n\n\n## Visualization\n\nOur network graph is created, so let's get into visualizing the network.\n\nThere are a few options for visualizing networks including `matplotlib.pyplot`, but I found that `pyvis` was the easiest to use for several reasons:\n- `pyvis` generates an HTML file\n- Customization is made very easy\n- The graph is interactive by default\n\nLet's look into generating this HTML file.\n```python\nfrom pyvis.network import Network\n\nnt = Network('100%', '100%', bgcolor='#222222', font_color='white')\nnt.from_nx(G)\nnt.repulsion()  # Spaces out the nodes\nnt.show('nx.html')\n```\n\nAnd it's that simple! We specify a width and height, optional styling attributes, and then we can generate the network graph visual straight from what we created with NetworkX.\n\nNow we can see [the network we generated](/network/first-nx-graph.html).\n\nYou can hover over each node to see the total number of connections that work at the respective company, and below is a list of the positions held by your connections.\n\nAs you can see, this is a bit hard to read into since there are a lot of nodes. Try and imagine reading this with +1,000 connections.\n\n## Improving the output\n\nThere are a few ways that our network could be narrowed down.\n\nBeing a _Software Developer_, the thought that first occurred to me was to try and dial in on tech-related companies through known positions titles.\n\nTo do this, I thought of a list of buzzwords/common job titles that I've seen across LinkedIn, and filtered down the initial DataFrame.\n\nThen, we go through the same process we did in previous sections of generating and displaying the graph.\n\n_Again, this is not perfect, but it's a good starting point._\n```python\n# Filter down from a list of popular tech positions\npositions = [\n    'developer', 'engineer', 'ai', 'analytics', 'software', 'cloud', 'cto',\n    'sde', 'sre', 'saas', 'product', 'engineering', 'scientist', 'data',\n]\ndf = df[df['Position'].str.contains('|'.join(positions), case=False)]\ndf_company_counts = df['Company'].value_counts().reset_index()\ndf_company_counts.columns = ['Company', 'Count']\ndf_company_counts = df_company_counts.sort_values(by='Count', ascending=False)\n\n# Re-initialize the graph and add the nodes/edges again\nG = nx.Graph()\nG.add_node('Me')\n\nfor _, row in df_company_counts.iterrows():\n    title = '\u003cb\u003e{0}\u003c/b\u003e ({1})\u003cbr\u003e\u003chr\u003ePositions:\u003cbr\u003e'.format(row['Company'], row['Count'])\n    position_list = ''.join('\u003cli\u003e{}\u003c/li\u003e'.format(x)\n    \t\t\t\t\t\tfor x in df[df['Company'] == row['Company']]['Position'])\n    title += '\u003cul\u003e{0}\u003c/ul\u003e'.format(position_list)\n    node_name = row['Company']\n    if len(node_name) \u003e 15:\n        node_name = node_name[:15] + '...'\n\n    # Since there are less nodes, let's increase the sizes\n    G.add_node(node_name, weight=row['Count'], size=row['Count'] * 5, title=title)\n    G.add_edge('Me', node_name)\n\n# Generate the visualization\nnt = Network('100%', '100%', bgcolor='#222222', font_color='white')\nnt.from_nx(G)\nnt.repulsion()\nnt.show('nx.html')\n```\n\nNow, let's look at the [updated results](/network/second-nx-graph.html).\n\nMuch better! This is more readable and easier to interact with.\n\nAnd just like that, we achieved our goal of gaining a broader understanding of the companies in our LinkedIn network.\n\n---\n\n**_Possible improvements for those interested_**\n- Scraping the profile location of each of your connections to segment by location\n- Compiling a list of companies you'd like to work for/are interested in and creating a filtering system\n- Researching salary data for positions and gathering average pay by company\n\n---\n","title":"Visualizing your LinkedIn connections using Python","date":"2021-04-08","tags":["python","pandas","networkx","data-analysis"],"description":"Using Python's Pandas, NetworkX, and pyvis to understand and visualize companies within a directly connected LinkedIn network."}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"visualizing-your-linkedin-connections"},"buildId":"0mqtFEn94cb11l0pvOTHF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>